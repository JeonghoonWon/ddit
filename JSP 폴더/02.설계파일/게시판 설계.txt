요구사항 정의서
단위 업무 정의서
유스케이스 정의서

정보 설계(DA)
명사 추출 -> 자료 사전
용어 사전
개념 -> 논리 -> 물리 -> 데이터베이스

어플리케이션 설계(BA, AA, TA)
프로세스 흐름(정의서, 구조도)
아키텍처->패턴->컴포넌트->패키지->클래스

UI 설계(UA)
스토리보드->화면 설계

단위 테스트 TA
통합 테스트

-- 자유 게시판-게시글
쓰고, 수정, 삭제, 조회, 썸네일, 미리보기(내용의 일부분)
첨부파일, 검색(제목, 작성자, 내용, 전체, 날짜 범위)
댓글, 본인확인(인증), 계층형 게시판
신고(글 블라인드 처리-3), UI 커스텀 게시판, 비밀글, 
공지사항 여부(관리자), 추천
조회수, 이번주내 상위 조회수 글 조회, 
블랙리스트(비속어-properties 필터링)

데이터 설계

공지게시글 (NOTICE) - 첨부파일없음.

글번호  BO_NO NUMBER(6) PK
제목 BO_TITLE VARCHAR2(100 CHAR) NOT NULL
내용 BO_CONTENT CLOB 
작성일 BO_DATE DATE DEFAULT SYSDATE
조회수 BO_HIT NUMBER(4) DEFAULT 0
추천수 BO_REC NUMBER(4) DEFAULT 0


게시글 BOARD
글번호 BO_NO NUMBER(6) PK
제목 BO_TITLE VARCHAR2(100 CHAR) NOT NULL
작성자 BO_WRITER VARCHAR2(20 CHAR) NOT NULL
비밀번호 BO_PASS VARCHAR2(200 CHAR) NOT NULL
내용 BO_CONTENT CLOB
작성일 BO_DATE DATE SYSDATE
조회수 BO_HIT NUMBER(4) DEFAULT 0
추천수 BO_REC NUMBER(4) DEFAULT 0 
신고수 BO_REP NUMBER(4) DEFAULT 0
비밀글여부 BO_SEC CHAR(1) 'Y'/'N' DEFAULT 'N'
상위글번호 BO_PARENT BO_NO NUMBER(6) 


첨부파일 ATTATCH
(
글번호 BO_NO NUMBER(6) FK
첨부파일번호 ATT_NO NUMBER(4) PK
파일명 ATT_FILENAME VARCHAR2(150 CHAR) NOT NULL
저장명 ATT_SAVENAME VARCHAR2(150 CHAR) NOT NULL,
크기 ATT_SIZE NUMBER(10) NOT NULL, 
mime ATT_CONTENTTYPE VARHCHAR2(100 CHAR), 
다운로드수 ATT_DOWNCOUNT NUMBER(4) DEFAULT 0
)

댓글 REPLY2
(
글번호 BO_NO NUMBER(6) FK
댓글번호 REP_NO NUMBER(6) PK
작성자 REP_WRITER VARCHAR2(20 CHAR) NOT NULL,  
비밀번호 REP_PASS VHARCHAR2(200 CHAR) NOT NULL, 
내용 REP_CONTENT VARHCAR2(400 CHAR), 
작성일 REP_DATE DEFAULT SYSDATE
)


CREATE TABLE NOTICE(
BO_NO NUMBER(6),
BO_TITLE VARCHAR2(100 CHAR) NOT NULL,
BO_CONTENT CLOB ,
BO_DATE DATE DEFAULT SYSDATE,
BO_HIT NUMBER(4) DEFAULT 0,
BO_REC NUMBER(4) DEFAULT 0,
CONSTRAINT PK_NOTICE PRIMARY KEY(BO_NO)
);

CREATE TABLE BOARD(
BO_NO NUMBER(6),
BO_TITLE VARCHAR2(100 CHAR) NOT NULL,
BO_WRITER VARCHAR2(20 CHAR) NOT NULL,
BO_PASS VARCHAR2(200 CHAR) NOT NULL,
BO_CONTENT CLOB,
BO_DATE DATE DEFAULT SYSDATE,
BO_HIT NUMBER(4) DEFAULT 0,
BO_REC NUMBER(4) DEFAULT 0 ,
BO_REP NUMBER(4) DEFAULT 0,
BO_SEC CHAR(1) DEFAULT 'N', -- 'Y'/'N' 
BO_PARENT NUMBER(6) ,
CONSTRAINT PK_BOARD PRIMARY KEY(BO_NO),
CONSTRAINT FK_BOARD_BOARD FOREIGN KEY(BO_PARENT)
    REFERENCES BOARD(BO_NO)
);

CREATE TABLE ATTATCH
(
BO_NO NUMBER(6),
ATT_NO NUMBER(4),
ATT_FILENAME VARCHAR2(150 CHAR) NOT NULL,
ATT_SAVENAME VARCHAR2(150 CHAR) NOT NULL,
ATT_SIZE NUMBER(10) NOT NULL, 
ATT_CONTENTTYPE VARCHAR2(100 CHAR), 
ATT_DOWNCOUNT NUMBER(4) DEFAULT 0,
CONSTRAINT PK_ATTATCH PRIMARY KEY(ATT_NO),
CONSTRAINT FK_BOARD_ATTATCH FOREIGN KEY(BO_NO)
    REFERENCES BOARD(BO_NO)
);

CREATE TABLE REPLY2
(
BO_NO NUMBER(6),
REP_NO NUMBER(6),
REP_WRITER VARCHAR2(20 CHAR) NOT NULL,  
REP_PASS VARCHAR2(200 CHAR) NOT NULL, 
REP_CONTENT VARCHAR2(400 CHAR), 
REP_DATE DATE DEFAULT SYSDATE,
CONSTRAINT PK_REPLY2 PRIMARY KEY (REP_NO),
CONSTRAINT FK_BOARD_REPLY2 FOREIGN KEY(BO_NO)
    REFERENCES BOARD(BO_NO)
);


CREATE SEQUENCE BO_SEQ START WITH 1 INCREMENT BY 1;
INSERT INTO notice (
    bo_no,    bo_title,    bo_content,
    bo_date,    bo_hit,    bo_rec
)
SELECT BO_SEQ.NEXTVAL, '더미 공지 게시글 제목'||ROWNUM,
    '더미 공지 게시글의 내용<br /> 임의로 작성한 내용',
    SYSDATE -(500 - ROWNUM), TRUNC(DBMS_RANDOM.VALUE() * 1000),
    TRUNC(DBMS_RANDOM.VALUE() * 1000)
FROM DUAL
CONNECT BY LEVEL < 500;


INSERT INTO board (
    bo_no,    bo_title,    bo_writer,
    bo_pass,    bo_content,    bo_date,
    bo_hit,    bo_rec,    bo_rep,
    bo_sec,    bo_parent
)
SELECT BO_SEQ.NEXTVAL,MEM_NAME||'님이 작성한 글', MEM_NAME,
MEM_PASS, MEM_NAME||'이 작성한 글의 내용<br/>임의로 작성한 내용',
SYSDATE - (340 - ROWNUM), 
TRUNC(DBMS_RANDOM.VALUE()*1000), 
TRUNC(DBMS_RANDOM.VALUE()*1000),
0, 'N', NULL
FROM MEMBER , 
(
SELECT ROWNUM RNUM 
FROM DUAL
CONNECT BY LEVEL < 11);


-- COMMENT
COMMENT ON COLUMN NOTICE.BO_NO IS '글번호';
COMMENT ON COLUMN NOTICE.BO_TITLE IS '제목';
COMMENT ON COLUMN NOTICE.BO_CONTENT IS '내용';
COMMENT ON COLUMN NOTICE.BO_DATE IS '작성일';
COMMENT ON COLUMN NOTICE.BO_HIT IS '조회수';
COMMENT ON COLUMN NOTICE.BO_REC IS '추천수';

COMMENT ON COLUMN BOARD.BO_NO IS '글번호';
COMMENT ON COLUMN BOARD.BO_TITLE IS '제목';
COMMENT ON COLUMN BOARD.BO_WRITER IS '작성자';
COMMENT ON COLUMN BOARD.BO_PASS IS '비밀번호';
COMMENT ON COLUMN BOARD.BO_CONTENT IS '내용';
COMMENT ON COLUMN BOARD.BO_DATE IS '작성일';
COMMENT ON COLUMN BOARD.BO_HIT IS '조회수';
COMMENT ON COLUMN BOARD.BO_REC IS '추천수';
COMMENT ON COLUMN BOARD.BO_REP IS '신고수';
COMMENT ON COLUMN BOARD.BO_PARENT IS '상위글번호';

COMMENT ON COLUMN BOARDVIEW.BO_SORT IS '정렬조건';
COMMENT ON COLUMN BOARDVIEW.BO_TYPE IS '게시판종류';
COMMENT ON COLUMN BOARDVIEW.BO_NO IS '글번호';
COMMENT ON COLUMN BOARDVIEW.BO_TITLE IS '제목';
COMMENT ON COLUMN BOARDVIEW.BO_WRITER IS '작성자';
COMMENT ON COLUMN BOARDVIEW.BO_PASS IS '비밀번호';
COMMENT ON COLUMN BOARDVIEW.BO_CONTENT IS '내용';
COMMENT ON COLUMN BOARDVIEW.BO_DATE IS '작성일';
COMMENT ON COLUMN BOARDVIEW.BO_HIT IS '조회수';
COMMENT ON COLUMN BOARDVIEW.BO_REC IS '추천수';
COMMENT ON COLUMN BOARDVIEW.BO_REP IS '신고수';
COMMENT ON COLUMN BOARDVIEW.BO_PARENT IS '상위글번호';















